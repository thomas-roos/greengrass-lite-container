BB_CONF_FRAGMENT_SUMMARY = "Greengrass Lite Container Configuration"
BB_CONF_FRAGMENT_DESCRIPTION = "Enables SystemD and virtualization features for Greengrass Lite container"

# Greengrass Lite Container Configuration
# Note: usrmerge feature doesn't work with vruntime distro (it overrides DISTRO_FEATURES)
# Use usrmerge-compat recipe instead for /bin, /sbin, /lib symlinks
DISTRO_FEATURES:append = " systemd virtualization usrmerge"
VIRTUAL-RUNTIME_init_manager = "systemd"
INIT_MANAGER = "systemd"

# Enable multi-arch builds (ARM64 + x86-64)
BBMULTICONFIG = "vruntime-aarch64 vruntime-x86-64"

# Prefer crun over runc
PREFERRED_PROVIDER_virtual-runc = "crun"
